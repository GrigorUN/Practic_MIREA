subdesign 'lab42'
(
a,b,clock:input
q[3..0]:output
)
variable
st[15..0],r0,r1,r2,r3,r4,5,newq[3..0]:node;
tq[3..0]:dff
begin
st[0] = !q[0] & !q[1] & !q[2] & !q[3];
st[1] = q[0] & !q[1] & !q[2] & !q[3];
st[2] = !q[0] & q[1] & !q[2] & !q[3];
st[3] = q[0] & q[1] & !q[2] & !q[3];
st[4] = !q[0] & !q[1] & q[2] & !q[3];
st[5] = q[0] & !q[1] & q[2] & !q[3];
st[6] = !q[0] & q[1] & q[2] & !q[3];
st[7] = q[0] & q[1] & q[2] & !q[3];
st[8] = !q[0] & !q[1] & !q[2] & q[3];
st[9] = q[0] & !q[1] & !q[2] & q[3];
st[10] = !q[0] & q[1] & !q[2] & q[3];
st[11] = q[0] & q[1] & !q[2] & q[3];
st[12] = !q[0] & !q[1] & q[2] & q[3];
st[13] = q[0] & !q[1] & q[2] & q[3];
st[14] = !q[0] & q[1] & q[2] & q[3];
st[15] = q[0] & q[1] & q[2] & q[3];

r0 = !a & st[1];
r1 = a & st[1];
r2 = !b & st[4];
r3 = b & st[4];
r4 = !b & st[11];
r5 = b & st[11];

newq[0] = st[9] # st[10] # r2 # st[7] # st[2] # st[12] # r4 # st[3] # st[5] # st[6];